(this.webpackJsonprslang=this.webpackJsonprslang||[]).push([[0],{29:function(e,t,n){},34:function(e,t,n){},41:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"FOOTER_COPYRIGHT",(function(){return x})),n.d(c,"API_BASE_URL",(function(){return f})),n.d(c,"WORD_GROUPS",(function(){return T}));var a={};n.r(a),n.d(a,"fetchWords",(function(){return y})),n.d(a,"setPage",(function(){return D})),n.d(a,"setGroup",(function(){return C})),n.d(a,"showTranslate",(function(){return L})),n.d(a,"showButtons",(function(){return I}));n(28),n(29);var s,r=n(0),o=n.n(r),i=n(15),d=n.n(i),l=(n(34),n(12)),u=n(3),j=n(11),O=n(4),b=n(9),p=(n(41),n(8)),h=n(20),_=n.n(h),m=n(26),x={developers:[{link:"https://github.com/bramov",name:"@Bramov"},{link:"https://github.com/GregoryMoskalev",name:"@GregoryMoskalev"},{link:"https://github.com/johnneon",name:"@Johnneon"},{link:"https://github.com/Iogsotot",name:"@IogSotot"}]},f="https://rslang-2020q3.herokuapp.com",T={weak:0,easy:1,middle:2,hard:3,impossible:4,legendary:5};!function(e){e.FETCH_WORD_LIST="FETCH_WORD_LIST",e.FETCH_WORD_LIST_SUCCESS="FETCH_WORD_LIST_SUCCESS",e.FETCH_WORD_LIST_ERROR="FETCH_WORD_LIST_ERROR",e.GET_WORD_LIST_PAGE="GET_WORD_LIST_PAGE",e.GET_WORD_LIST_GROUP="GET_WORD_LIST_GROUP",e.SHOW_WORD_TRANSLATE="SHOW_WORD_TRANSLATE",e.SHOW_WORD_BUTTONS="SHOW_WORD_BUTTONS"}(s||(s={}));var g=c.API_BASE_URL,S=s.FETCH_WORD_LIST,v=s.FETCH_WORD_LIST_ERROR,R=s.FETCH_WORD_LIST_SUCCESS,E=s.GET_WORD_LIST_PAGE,N=s.GET_WORD_LIST_GROUP,w=s.SHOW_WORD_TRANSLATE,W=s.SHOW_WORD_BUTTONS,y=function(e,t){return function(){var n=Object(m.a)(_.a.mark((function n(c){var a;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c({type:S}),n.next=3,fetch("".concat(g,"/words?group=").concat(e,"&page=").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){c({type:v,payload:e})}));case 3:a=n.sent,c({type:R,payload:a});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},D=function(e){return function(t){t({type:E,payload:e})}},C=function(e){return function(t){t({type:N,payload:e})}},L=function(e){return function(t){t({type:w,payload:e})}},I=function(e){return function(t){t({type:W,payload:e})}},k=Object(O.a)({},a),G=j.c,A=n(1),H=function(e){var t=e.word,n=e.transcription,c=e.wordTranslate,a=e.image,s=e.textMeaning,r=e.textExample,o=e.textMeaningTranslate,i=e.textExampleTranslate,d=e.playHandler,l=e.translate,u=e.displayButtons;return Object(A.jsxs)("div",{className:"word columns is-1 is-vcentered",children:[Object(A.jsx)("figure",{className:"image",children:Object(A.jsx)("img",{src:a,alt:"Word"})}),Object(A.jsxs)("div",{className:"word__info column is-7",children:[Object(A.jsx)("h3",{className:"word__name",children:"".concat(t," (").concat(n,") ").concat(l?"/ ".concat(c):"")}),Object(A.jsx)("p",{className:"word__meaning",children:s}),l?Object(A.jsx)("p",{className:"word__meaning word__meaning-translate",children:o}):"",Object(A.jsx)("p",{className:"word__example",children:r}),l?Object(A.jsx)("p",{className:"word__example word__example-translate",children:i}):"",Object(A.jsx)("button",{className:"button is-outlined",onClick:function(){return d(t)},children:Object(A.jsx)("span",{className:"icon is-small",children:Object(A.jsx)("i",{className:"fas fa-volume-up",children:"\0"})})}),u?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("button",{className:"button is-success",children:[Object(A.jsx)("span",{className:"icon is-small",children:Object(A.jsx)("i",{className:"fas fa-check",children:"\0"})}),Object(A.jsx)("span",{children:"Save"})]}),Object(A.jsxs)("button",{className:"button is-danger is-outlined",children:[Object(A.jsx)("span",{children:"Delete"}),Object(A.jsx)("span",{className:"icon is-small",children:Object(A.jsx)("i",{className:"fas fa-times",children:"\0"})})]})]}):Object(A.jsx)(A.Fragment,{})]})]})},P=function(e){var t=e.map((function(e){var t=e.word,n=e.audio,c=e.audioExample;return{word:t,audios:[n,e.audioMeaning,c]}})),n=Object(r.useState)({word:"",audios:[""]}),c=Object(b.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(),i=Object(b.a)(o,2),d=i[0],l=i[1],u=Object(r.useState)(0),j=Object(b.a)(u,2),O=j[0],p=j[1],h=Object(r.useState)(!1),_=Object(b.a)(h,2),m=_[0],x=_[1],f=function(){return!!d&&(d.currentTime>0&&!d.paused&&!d.ended&&d.readyState>2)},T=function(){O>=2?(p(0),x(!1),l(null)):p((function(e){var t=e+1;return l(new Audio(a.audios[t])),t}))};Object(r.useEffect)((function(){return d&&(d.play(),x(!0)),null===d||void 0===d||d.addEventListener("ended",T),function(){return null===d||void 0===d?void 0:d.removeEventListener("ended",T)}}),[d]);return{setAudio:function(e){var n=t.find((function(t){return t.word===e})),c=f();m&&d&&c&&(d.pause(),d.currentTime=0,p(0)),n&&(s(n),l(new Audio(n.audios[0])))},toggleAudio:function(){var e=f();m&&e?(null===d||void 0===d||d.pause(),x(!1)):(null===d||void 0===d||d.play(),x(!0))},isPlaying:m,currentWord:a.word}},B=c.WORD_GROUPS,F=function(){var e=Object(u.g)(),t=function(){var e=Object(j.b)();return Object(p.b)(k,e)}(),n=t.fetchWords,c=t.setGroup,a=t.setPage,s=t.showButtons,o=t.showTranslate,i=Object(u.h)(),d=i.group,l=i.page,h=Object(r.useState)(!1),_=Object(b.a)(h,2),m=_[0],x=_[1],f=G((function(e){return e.wordList})),T=f.words,g=f.page,S=f.group,v=f.loading,R=f.displayButtons,E=f.translate,N=P(T),w=N.setAudio,W=N.toggleAudio,y=N.currentWord,D=N.isPlaying,C=function(e){w(e)};return Object(r.useEffect)((function(){n(S,g),e.push("/textbook/".concat(S,"/").concat(g))}),[S,g]),Object(r.useEffect)((function(){Number.isInteger(+l)&&Number.isInteger(+d)&&(a(+l),c(+d))}),[]),Object(A.jsxs)("section",{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{children:"Groups"}),Object.entries(B).map((function(e){var t=Object(b.a)(e,2),n=t[0],s=t[1];return Object(A.jsx)("button",{disabled:s===S,onClick:function(){return c(s),void a(0)},children:n},n)}))]}),Object(A.jsxs)("div",{className:"dropdown ".concat(m?"is-active":""),children:[Object(A.jsx)("div",{className:"dropdown-trigger",children:Object(A.jsxs)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu2",onClick:function(){x(!m)},children:[Object(A.jsx)("span",{children:Object(A.jsx)("i",{className:"fas fa-cog",children:"\0"})}),Object(A.jsx)("span",{className:"icon is-small",children:Object(A.jsx)("i",{className:"fas fa-angle-down","aria-hidden":"true",children:"\0"})})]})}),Object(A.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu2",role:"menu",children:Object(A.jsxs)("div",{className:"dropdown-content",children:[Object(A.jsxs)("div",{className:"dropdown-item",children:["show translate:",Object(A.jsx)("input",{type:"checkbox",name:"translate",checked:E,onChange:function(){return o(!E)}})]}),Object(A.jsx)("hr",{className:"dropdown-divider"}),Object(A.jsxs)("div",{className:"dropdown-item",children:["show buttons:",Object(A.jsx)("input",{type:"checkbox",name:"buttons",checked:R,onChange:function(){return s(!R)}})]})]})})]}),Object(A.jsxs)("div",{className:"words",children:[Object(A.jsxs)("div",{className:"audio__controller",children:[Object(A.jsx)("button",{onClick:W,className:"button is-danger is-outlined",children:Object(A.jsx)("span",{className:"icon is-small",children:D?Object(A.jsx)("i",{className:"fas fa-pause",children:"\0"}):Object(A.jsx)("i",{className:"fas fa-play",children:"\0"})})}),"".concat(y)]}),Object(A.jsx)("div",{className:"words__inner box",children:v?Object(A.jsx)("div",{className:"spinner",children:Object(A.jsx)("div",{className:"spinner__inner",children:Object(A.jsx)("div",{children:"\0"})})}):T.map((function(e){return Object(A.jsx)(H,Object(O.a)({playHandler:C,translate:E,displayButtons:R},e),e.id)}))})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("button",{disabled:0===g,onClick:function(){a(g-1)},children:"prev"}),g+1,Object(A.jsx)("button",{disabled:29===g,onClick:function(){a(g+1)},children:"next"})]})]})},U=function(){return Object(A.jsx)("div",{className:"textbook",children:Object(A.jsx)(F,{})})},M=function(){return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(l.b,{to:"/textbook/0/0",children:"TextBook page"})})},J=n(27),q=s.FETCH_WORD_LIST,Y=s.FETCH_WORD_LIST_ERROR,z=s.FETCH_WORD_LIST_SUCCESS,K=s.GET_WORD_LIST_PAGE,Q=s.GET_WORD_LIST_GROUP,V=s.SHOW_WORD_TRANSLATE,X=s.SHOW_WORD_BUTTONS,Z={words:[],page:0,group:0,loading:!1,error:null,translate:!0,displayButtons:!0},$=Object(p.c)({wordList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case K:return Object(O.a)(Object(O.a)({},e),{},{page:t.payload});case Q:return Object(O.a)(Object(O.a)({},e),{},{group:t.payload});case z:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,words:t.payload});case Y:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.payload});case V:return Object(O.a)(Object(O.a)({},e),{},{translate:t.payload});case X:return Object(O.a)(Object(O.a)({},e),{},{displayButtons:t.payload});default:return e}}}),ee=Object(p.d)($,Object(p.a)(J.a)),te=function(){return Object(A.jsx)("div",{className:"App",children:Object(A.jsx)(j.a,{store:ee,children:Object(A.jsx)(l.a,{children:Object(A.jsxs)(u.d,{children:[Object(A.jsx)(u.b,{path:"/",exact:!0,children:Object(A.jsx)(M,{})}),Object(A.jsx)(u.b,{path:"/textbook/:group/:page",exact:!0,children:Object(A.jsx)(U,{})}),Object(A.jsx)(u.a,{to:"/"})]})})})})};d.a.render(Object(A.jsx)(o.a.StrictMode,{children:Object(A.jsx)(te,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.d42d65ec.chunk.js.map